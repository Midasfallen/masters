# Frontend Agent - Шаблон промпта

## Использование

Скопируйте этот шаблон и заполните параметры для делегирования задачи Frontend Agent.

---

## Шаблон

```
[Frontend Agent] [Название задачи]:

КОНТЕКСТ (обязательно):
- Связанные файлы: 
  - [путь к файлу 1]
  - [путь к файлу 2]
- Похожие паттерны: 
  - Используй паттерн из [путь к похожему экрану/виджету]
  - Пример: frontend/lib/features/feed/screens/
- Документация:
  - [ссылка на docs если есть]
- Зависимости:
  - [список зависимостей]

ТРЕБОВАНИЯ:
1. [требование 1 - конкретное и измеримое]
2. [требование 2]
3. [требование 3]

ОЖИДАЕМЫЙ РЕЗУЛЬТАТ:
- [что должно получиться]
- [структура файлов]
- [UI компоненты если применимо]

КРИТЕРИИ ВАЛИДАЦИИ:
- Запусти flutter analyze
- Проверь соответствие дизайн-системе
- Убедись, что навигация работает корректно
- Проверь state management через Riverpod

ОГРАНИЧЕНИЯ:
- Используй null-safety, избегай `!` оператора
- Всегда обрабатывай ошибки явно
- Используй async/await вместо Future.then()
- Всегда делай ref.invalidate() после мутаций
```

---

## Примеры использования

### Пример 1: Создание нового экрана

```
[Frontend Agent] Создай экран уведомлений:

КОНТЕКСТ:
- Связанные файлы:
  - frontend/lib/features/feed/screens/feed_screen.dart
  - frontend/lib/core/providers/api/feed_provider.dart
- Похожие паттерны:
  - Используй структуру из frontend/lib/features/feed/screens/
- Документация:
  - docs/api/API-v2-Summary.md (Notifications endpoints)
- Зависимости:
  - API: GET /api/v2/notifications
  - Riverpod для state management
  - GoRouter для навигации

ТРЕБОВАНИЯ:
1. Создай notifications_screen.dart с списком уведомлений
2. Создай notifications_provider.dart для работы с API
3. Добавь pull-to-refresh функциональность
4. Добавь обработку ошибок через ApiExceptionHandler
5. Используй AppBar из shared/widgets

ОЖИДАЕМЫЙ РЕЗУЛЬТАТ:
- Экран готов к использованию
- Уведомления загружаются из API
- Pull-to-refresh работает
- Ошибки обрабатываются корректно
- Соответствует дизайн-системе

КРИТЕРИИ ВАЛИДАЦИИ:
- flutter analyze проходит без ошибок
- Соответствие дизайн-системе
- Навигация работает корректно
- State management работает через Riverpod

ОГРАНИЧЕНИЯ:
- Не используй `!` оператор без необходимости
- Всегда обрабатывай null значения
- Используй ref.invalidate() после мутаций
```

---

### Пример 2: Рефакторинг компонента

```
[Frontend Agent] Рефакторинг PostCard виджета:

КОНТЕКСТ:
- Связанные файлы:
  - frontend/lib/features/feed/widgets/post_card.dart
  - frontend/lib/shared/widgets/app_avatar.dart
- Проблема:
  - PostCard слишком большой (500+ строк)
  - Дублирование логики лайков
  - Сложно тестировать
- Похожие паттерны:
  - Используй паттерн из frontend/lib/shared/widgets/

ТРЕБОВАНИЯ:
1. Разбей PostCard на меньшие виджеты
2. Вынеси логику лайков в отдельный виджет
3. Создай PostCardHeader, PostCardContent, PostCardActions
4. Сохрани всю функциональность

ОЖИДАЕМЫЙ РЕЗУЛЬТАТ:
- PostCard разбит на логические компоненты
- Каждый компонент < 200 строк
- Вся функциональность сохранена
- Легко тестировать отдельные части

КРИТЕРИИ ВАЛИДАЦИИ:
- flutter analyze проходит
- Все существующие тесты проходят
- UI выглядит идентично
- Производительность не ухудшилась

ОГРАНИЧЕНИЯ:
- Не ломай существующую функциональность
- Сохрани все анимации и переходы
- Не увеличивай количество виджетов без необходимости
```

---

## Специализация Frontend Agent

**Экспертиза:**
- ✅ Flutter (экраны, виджеты, навигация)
- ✅ Riverpod 2.x (провайдеры, state management)
- ✅ GoRouter (навигация, deep linking)
- ✅ UI компоненты и дизайн-система
- ✅ Обработка ошибок и loading states
- ✅ Оптимизация производительности

**Когда использовать:**
- Создание новых экранов
- Рефакторинг UI компонентов
- Работа с state management
- Интеграция с API
- Исправление багов в Frontend
