# Testing Agent - Шаблон промпта

## Использование

Скопируйте этот шаблон для делегирования задач по тестированию.

---

## Шаблон

```
[Testing Agent] [Название задачи]:

КОНТЕКСТ (обязательно):
- Тестируемый код:
  - [путь к файлу/функции]
- Похожие тесты:
  - Используй паттерн из [путь к похожему тесту]
- Документация:
  - [ссылки на спецификации если есть]

ТРЕБОВАНИЯ:
1. Покрытие: минимум [X]%
2. Типы тестов: [unit/e2e/integration]
3. Edge cases: [список edge cases]

КРИТЕРИИ ВАЛИДАЦИИ:
- [команда для запуска тестов]
- Покрытие >= [X]%
- Все тесты проходят

ОГРАНИЧЕНИЯ:
- Используй существующие паттерны тестирования
- Моки для внешних зависимостей
```

---

## Примеры

### Backend Unit тесты

```
[Testing Agent] Создай unit тесты для NotificationsService:

КОНТЕКСТ:
- Тестируемый код:
  - backend/src/modules/notifications/notifications.service.ts
- Похожие тесты:
  - backend/src/modules/posts/posts.service.spec.ts

ТРЕБОВАНИЯ:
1. Покрытие: минимум 80%
2. Типы тестов: unit тесты
3. Edge cases:
   - null значения
   - пустые массивы
   - несуществующие user_id
   - дубликаты уведомлений

КРИТЕРИИ ВАЛИДАЦИИ:
- npm test проходит
- Покрытие >= 80%
- Все edge cases покрыты

ОГРАНИЧЕНИЯ:
- Используй Jest моки для TypeORM
- Тестируй только бизнес-логику сервиса
```

---

### Frontend Widget тесты

```
[Testing Agent] Создай widget тесты для PostCard:

КОНТЕКСТ:
- Тестируемый код:
  - frontend/lib/features/feed/widgets/post_card.dart
- Похожие тесты:
  - frontend/test/widgets/feed_card_test.dart

ТРЕБОВАНИЯ:
1. Покрытие: минимум 70%
2. Типы тестов: widget тесты
3. Edge cases:
   - null avatar
   - пустой контент
   - очень длинный текст
   - отсутствие медиа

КРИТЕРИИ ВАЛИДАЦИИ:
- flutter test проходит
- Покрытие >= 70%
- Все виджеты рендерятся корректно

ОГРАНИЧЕНИЯ:
- Используй Riverpod моки для провайдеров
- Тестируй UI и взаимодействия
```
