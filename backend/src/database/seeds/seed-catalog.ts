import { DataSource, TreeRepository } from 'typeorm';
import { Category } from '../../modules/categories/entities/category.entity';
import { CategoryTranslation } from '../../modules/categories/entities/category-translation.entity';

/**
 * Seed Script for Catalog Categories from Catalog.md
 *
 * Creates 3-level category structure:
 * - Level 0: Root categories (10 categories)
 * - Level 1: Subcategories (53 subcategories)
 * - Level 2: Services (340+ service categories)
 *
 * Usage:
 *   npm run seed:catalog
 * Or:
 *   ts-node src/database/seeds/seed-catalog.ts
 */

// Helper function to generate slug from Russian text
function generateSlug(text: string): string {
  const transliteration: Record<string, string> = {
    –∞: 'a', –±: 'b', –≤: 'v', –≥: 'g', –¥: 'd', –µ: 'e', —ë: 'e', –∂: 'zh',
    –∑: 'z', –∏: 'i', –π: 'y', –∫: 'k', –ª: 'l', –º: 'm', –Ω: 'n', –æ: 'o',
    –ø: 'p', —Ä: 'r', —Å: 's', —Ç: 't', —É: 'u', —Ñ: 'f', —Ö: 'h', —Ü: 'ts',
    —á: 'ch', —à: 'sh', —â: 'sch', —ä: '', —ã: 'y', —å: '', —ç: 'e', —é: 'yu',
    —è: 'ya',
  };

  return text
    .toLowerCase()
    .split('')
    .map((char) => transliteration[char] || char)
    .join('')
    .replace(/[^a-z0-9]+/g, '-')
    .replace(/^-+|-+$/g, '');
}

// Catalog data structure
interface CatalogCategory {
  name: string;
  emoji?: string;
  color: string;
  subcategories: CatalogSubcategory[];
}

interface CatalogSubcategory {
  name: string;
  services: string[];
}

const CATALOG_DATA: CatalogCategory[] = [
  {
    name: '–ö—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥',
    emoji: 'üíá',
    color: '#E91E63',
    subcategories: [
      {
        name: '–ü–∞—Ä–∏–∫–º–∞—Ö–µ—Ä—Å–∫–∏–µ —É—Å–ª—É–≥–∏',
        services: [
          '–ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞',
          '–ñ–µ–Ω—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞',
          '–î–µ—Ç—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞',
          '–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ',
          '–ú–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ',
          '–£–∫–ª–∞–¥–∫–∞',
          '–ö–µ—Ä–∞—Ç–∏–Ω–æ–≤–æ–µ –≤—ã–ø—Ä—è–º–ª–µ–Ω–∏–µ',
          '–ë–æ—Ç–æ–∫—Å –¥–ª—è –≤–æ–ª–æ—Å',
          '–ù–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –≤–æ–ª–æ—Å',
          '–ê—Ñ—Ä–æ–∫–æ—Å—ã',
        ],
      },
      {
        name: '–ù–æ–≥—Ç–µ–≤–æ–π —Å–µ—Ä–≤–∏—Å',
        services: [
          '–ú–∞–Ω–∏–∫—é—Ä –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π',
          '–ú–∞–Ω–∏–∫—é—Ä –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π',
          '–ü–µ–¥–∏–∫—é—Ä',
          '–ù–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ –Ω–æ–≥—Ç–µ–π',
          '–ì–µ–ª—å-–ª–∞–∫',
          '–î–∏–∑–∞–π–Ω –Ω–æ–≥—Ç–µ–π',
          '–°–Ω—è—Ç–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è',
          '–†–µ–º–æ–Ω—Ç –Ω–æ–≥—Ç–µ–π',
        ],
      },
      {
        name: '–ö–æ—Å–º–µ—Ç–æ–ª–æ–≥–∏—è',
        services: [
          '–ß–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞',
          '–ü–∏–ª–∏–Ω–≥',
          '–ú–µ–∑–æ—Ç–µ—Ä–∞–ø–∏—è',
          '–ë–∏–æ—Ä–µ–≤–∏—Ç–∞–ª–∏–∑–∞—Ü–∏—è',
          '–ë–æ—Ç—É–ª–∏–Ω–æ—Ç–µ—Ä–∞–ø–∏—è',
          '–ö–æ–Ω—Ç—É—Ä–Ω–∞—è –ø–ª–∞—Å—Ç–∏–∫–∞',
          '–ü–ª–∞–∑–º–æ–ª–∏—Ñ—Ç–∏–Ω–≥',
          'RF-–ª–∏—Ñ—Ç–∏–Ω–≥',
          '–õ–∞–∑–µ—Ä–Ω–∞—è —ç–ø–∏–ª—è—Ü–∏—è',
        ],
      },
      {
        name: '–ë—Ä–æ–≤–∏ –∏ —Ä–µ—Å–Ω–∏—Ü—ã',
        services: [
          '–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –±—Ä–æ–≤–µ–π',
          '–û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –±—Ä–æ–≤–µ–π',
          '–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–æ–≤–µ–π',
          '–ú–∏–∫—Ä–æ–±–ª–µ–π–¥–∏–Ω–≥',
          '–ù–∞—Ä–∞—â–∏–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü',
          '–õ–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å–Ω–∏—Ü',
          '–ë–æ—Ç–æ–∫—Å —Ä–µ—Å–Ω–∏—Ü',
        ],
      },
      {
        name: '–î–µ–ø–∏–ª—è—Ü–∏—è –∏ —ç–ø–∏–ª—è—Ü–∏—è',
        services: [
          '–®—É–≥–∞—Ä–∏–Ω–≥',
          '–í–æ—Å–∫–æ–≤–∞—è –¥–µ–ø–∏–ª—è—Ü–∏—è',
          '–õ–∞–∑–µ—Ä–Ω–∞—è —ç–ø–∏–ª—è—Ü–∏—è',
          '–§–æ—Ç–æ—ç–ø–∏–ª—è—Ü–∏—è',
          '–≠–ª–µ–∫—Ç—Ä–æ—ç–ø–∏–ª—è—Ü–∏—è',
        ],
      },
      {
        name: '–í–∏–∑–∞–∂',
        services: [
          '–î–Ω–µ–≤–Ω–æ–π –º–∞–∫–∏—è–∂',
          '–í–µ—á–µ—Ä–Ω–∏–π –º–∞–∫–∏—è–∂',
          '–°–≤–∞–¥–µ–±–Ω—ã–π –º–∞–∫–∏—è–∂',
          '–ú–∞–∫–∏—è–∂ –¥–ª—è —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏',
          '–û–±—É—á–µ–Ω–∏–µ –º–∞–∫–∏—è–∂—É',
        ],
      },
      {
        name: '–¢–∞—Ç—É–∞–∂',
        services: [
          '–¢–∞—Ç—É–∞–∂ –±—Ä–æ–≤–µ–π',
          '–¢–∞—Ç—É–∞–∂ –≥—É–±',
          '–¢–∞—Ç—É–∞–∂ –≤–µ–∫',
          '–£–¥–∞–ª–µ–Ω–∏–µ —Ç–∞—Ç—É–∞–∂–∞',
          '–ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Ç–∞—Ç—É–∞–∂–∞',
        ],
      },
    ],
  },
  {
    name: '–ó–¥–æ—Ä–æ–≤—å–µ –∏ –º–∞—Å—Å–∞–∂',
    emoji: 'üíÜ',
    color: '#4CAF50',
    subcategories: [
      {
        name: '–ú–∞—Å—Å–∞–∂',
        services: [
          '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Å—Å–∞–∂',
          '–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –º–∞—Å—Å–∞–∂',
          '–†–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–π –º–∞—Å—Å–∞–∂',
          '–ê–Ω—Ç–∏—Ü–µ–ª–ª—é–ª–∏—Ç–Ω—ã–π –º–∞—Å—Å–∞–∂',
          '–õ–∏–º—Ñ–æ–¥—Ä–µ–Ω–∞–∂–Ω—ã–π –º–∞—Å—Å–∞–∂',
          '–¢–∞–π—Å–∫–∏–π –º–∞—Å—Å–∞–∂',
          '–ú–∞—Å—Å–∞–∂ –ª–∏—Ü–∞',
          '–ú–∞—Å—Å–∞–∂ –≥–æ–ª–æ–≤—ã',
          '–î–µ—Ç—Å–∫–∏–π –º–∞—Å—Å–∞–∂',
        ],
      },
      {
        name: '–û—Å—Ç–µ–æ–ø–∞—Ç–∏—è –∏ –º–∞–Ω—É–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
        services: [
          '–û—Å—Ç–µ–æ–ø–∞—Ç–∏—è',
          '–ú–∞–Ω—É–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
          '–ö—Ä–∞–Ω–∏–æ—Å–∞–∫—Ä–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
          '–í–∏—Å—Ü–µ—Ä–∞–ª—å–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
        ],
      },
      {
        name: '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—è –∏ –∫–æ—É—á–∏–Ω–≥',
        services: [
          '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è',
          '–°–µ–º–µ–π–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è',
          '–î–µ—Ç—Å–∫–∏–π –ø—Å–∏—Ö–æ–ª–æ–≥',
          '–ö–æ—É—á–∏–Ω–≥',
          '–ê—Ä—Ç-—Ç–µ—Ä–∞–ø–∏—è',
          '–ì–∏–ø–Ω–æ—Ç–µ—Ä–∞–ø–∏—è',
        ],
      },
      {
        name: '–ù–µ—Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è –º–µ–¥–∏—Ü–∏–Ω–∞',
        services: [
          '–ò–≥–ª–æ—É–∫–∞–ª—ã–≤–∞–Ω–∏–µ',
          '–ì–∏—Ä—É–¥–æ—Ç–µ—Ä–∞–ø–∏—è',
          '–†–µ—Ñ–ª–µ–∫—Å–æ—Ç–µ—Ä–∞–ø–∏—è',
          '–ê—é—Ä–≤–µ–¥–∞',
        ],
      },
      {
        name: '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤',
        services: [
          '–î–∏–µ—Ç–æ–ª–æ–≥',
          '–ù—É—Ç—Ä–∏—Ü–∏–æ–ª–æ–≥',
          '–õ–æ–≥–æ–ø–µ–¥',
          '–î–µ—Ñ–µ–∫—Ç–æ–ª–æ–≥',
        ],
      },
    ],
  },
  {
    name: '–°–ø–æ—Ä—Ç –∏ —Ñ–∏—Ç–Ω–µ—Å',
    emoji: 'üèãÔ∏è',
    color: '#FF9800',
    subcategories: [
      {
        name: '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',
        services: [
          '–§–∏—Ç–Ω–µ—Å',
          '–ö—Ä–æ—Å—Å—Ñ–∏—Ç',
          '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–∏–Ω–≥',
          '–°–∏–ª–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏',
          '–ö–∞—Ä–¥–∏–æ',
          '–†–∞—Å—Ç—è–∂–∫–∞',
          '–ü–∏–ª–∞—Ç–µ—Å',
          'TRX',
        ],
      },
      {
        name: '–ë–æ–µ–≤—ã–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞',
        services: [
          '–ë–æ–∫—Å',
          '–ö–∏–∫–±–æ–∫—Å–∏–Ω–≥',
          '–¢–∞–π—Å–∫–∏–π –±–æ–∫—Å',
          '–ú–ú–ê',
          '–î–∑—é–¥–æ',
          '–ö–∞—Ä–∞—Ç–µ',
          '–¢—Ö—ç–∫–≤–æ–Ω–¥–æ',
          '–°–∞–º–±–æ',
          '–ê–π–∫–∏–¥–æ',
        ],
      },
      {
        name: '–ô–æ–≥–∞ –∏ –º–µ–¥–∏—Ç–∞—Ü–∏—è',
        services: [
          '–•–∞—Ç—Ö–∞-–π–æ–≥–∞',
          '–ê—à—Ç–∞–Ω–≥–∞-–π–æ–≥–∞',
          '–ö—É–Ω–¥–∞–ª–∏–Ω–∏-–π–æ–≥–∞',
          '–ô–æ–≥–∞ –¥–ª—è –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö',
          '–î–µ—Ç—Å–∫–∞—è –π–æ–≥–∞',
          '–ú–µ–¥–∏—Ç–∞—Ü–∏—è',
          '–ü—Ä–∞–Ω–∞—è–º–∞',
        ],
      },
      {
        name: '–¢–∞–Ω—Ü—ã',
        services: [
          '–ë–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã',
          '–•–∏–ø-—Ö–æ–ø',
          '–ö–æ–Ω—Ç–µ–º–ø–æ—Ä–∞—Ä–∏',
          '–°–∞–ª—å—Å–∞',
          '–ë–∞—á–∞—Ç–∞',
          '–¢–≤–µ—Ä–∫',
          '–°—Ç—Ä–∏–ø-–ø–ª–∞—Å—Ç–∏–∫–∞',
          'Pole dance',
        ],
      },
      {
        name: '–í–æ–¥–Ω—ã–µ –≤–∏–¥—ã',
        services: [
          '–ü–ª–∞–≤–∞–Ω–∏–µ',
          '–ê–∫–≤–∞–∞—ç—Ä–æ–±–∏–∫–∞',
          '–°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø–ª–∞–≤–∞–Ω–∏–µ',
          '–î–∞–π–≤–∏–Ω–≥',
          '–°—ë—Ä—Ñ–∏–Ω–≥',
        ],
      },
      {
        name: '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ –∏ outdoor',
        services: [
          '–°–∫–∞–ª–æ–ª–∞–∑–∞–Ω–∏–µ',
          '–ü–∞—Ä–∫—É—Ä',
          '–ì–æ–ª—å—Ñ',
          '–¢–µ–Ω–Ω–∏—Å',
          '–í–µ—Ä—Ö–æ–≤–∞—è –µ–∑–¥–∞',
          '–°—Ç—Ä–µ–ª—å–±–∞',
        ],
      },
    ],
  },
  {
    name: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ',
    emoji: 'üìö',
    color: '#2196F3',
    subcategories: [
      {
        name: '–®–∫–æ–ª—å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã',
        services: [
          '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞',
          '–§–∏–∑–∏–∫–∞',
          '–•–∏–º–∏—è',
          '–ë–∏–æ–ª–æ–≥–∏—è',
          '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫',
          '–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞',
          '–ò—Å—Ç–æ—Ä–∏—è',
          '–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ',
          '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è',
          '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞',
        ],
      },
      {
        name: '–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–µ —è–∑—ã–∫–∏',
        services: [
          '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π',
          '–ù–µ–º–µ—Ü–∫–∏–π',
          '–§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π',
          '–ò—Å–ø–∞–Ω—Å–∫–∏–π',
          '–ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π',
          '–ö–∏—Ç–∞–π—Å–∫–∏–π',
          '–Ø–ø–æ–Ω—Å–∫–∏–π',
          '–ö–æ—Ä–µ–π—Å–∫–∏–π',
          '–ê—Ä–∞–±—Å–∫–∏–π',
          '–†—É—Å—Å–∫–∏–π –∫–∞–∫ –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π',
        ],
      },
      {
        name: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —ç–∫–∑–∞–º–µ–Ω–∞–º',
        services: [
          '–ï–ì–≠',
          '–û–ì–≠',
          '–í–ü–†',
          'IELTS',
          'TOEFL',
          'TestDaF',
          'DELF/DALF',
          '–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫–∑–∞–º–µ–Ω—ã',
        ],
      },
      {
        name: '–ú—É–∑—ã–∫–∞',
        services: [
          '–§–æ—Ä—Ç–µ–ø–∏–∞–Ω–æ',
          '–ì–∏—Ç–∞—Ä–∞',
          '–°–∫—Ä–∏–ø–∫–∞',
          '–í–æ–∫–∞–ª',
          '–ë–∞—Ä–∞–±–∞–Ω—ã',
          '–°–∞–∫—Å–æ—Ñ–æ–Ω',
          '–§–ª–µ–π—Ç–∞',
          '–£–∫—É–ª–µ–ª–µ',
          '–î–∏–¥–∂–µ–∏–Ω–≥',
        ],
      },
      {
        name: '–ò—Å–∫—É—Å—Å—Ç–≤–æ',
        services: [
          '–†–∏—Å–æ–≤–∞–Ω–∏–µ',
          '–ñ–∏–≤–æ–ø–∏—Å—å',
          '–ì—Ä–∞—Ñ–∏–∫–∞',
          '–°–∫—É–ª—å–ø—Ç—É—Ä–∞',
          '–ö–∞–ª–ª–∏–≥—Ä–∞—Ñ–∏—è',
          '–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è',
        ],
      },
      {
        name: 'IT –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
        services: [
          'Python',
          'JavaScript',
          'Java',
          'C++',
          'Web-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
          '–ú–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
          'Data Science',
          '–î–∏–∑–∞–π–Ω UI/UX',
        ],
      },
      {
        name: '–†–∞–∑–≤–∏—Ç–∏–µ –¥–µ—Ç–µ–π',
        services: [
          '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ',
          '–†–∞–Ω–Ω–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ',
          '–°–∫–æ—Ä–æ—á—Ç–µ–Ω–∏–µ',
          '–ú–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞',
          '–®–∞—Ö–º–∞—Ç—ã',
          '–†–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω–∏–∫–∞',
        ],
      },
    ],
  },
  {
    name: '–†–µ–º–æ–Ω—Ç –∏ –±—ã—Ç',
    emoji: 'üîß',
    color: '#FF5722',
    subcategories: [
      {
        name: '–°–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞',
        services: [
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–º–µ—Å–∏—Ç–µ–ª—è',
          '–ó–∞–º–µ–Ω–∞ —Ç—Ä—É–±',
          '–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Å–æ—Ä–æ–≤',
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —É–Ω–∏—Ç–∞–∑–∞',
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∞–Ω–Ω—ã',
          '–†–µ–º–æ–Ω—Ç –±–æ–π–ª–µ—Ä–∞',
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—á—ë—Ç—á–∏–∫–æ–≤ –≤–æ–¥—ã',
        ],
      },
      {
        name: '–≠–ª–µ–∫—Ç—Ä–∏–∫–∞',
        services: [
          '–ó–∞–º–µ–Ω–∞ —Ä–æ–∑–µ—Ç–æ–∫',
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤–µ—Ç–∏–ª—å–Ω–∏–∫–æ–≤',
          '–ü—Ä–æ–∫–ª–∞–¥–∫–∞ –ø—Ä–æ–≤–æ–¥–∫–∏',
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–æ–≤',
          '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±—ã—Ç–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏',
          '–ó–∞–º–µ–Ω–∞ —Å—á—ë—Ç—á–∏–∫–∞',
        ],
      },
      {
        name: '–†–µ–º–æ–Ω—Ç –∫–≤–∞—Ä—Ç–∏—Ä',
        services: [
          '–ü–æ–∫–ª–µ–π–∫–∞ –æ–±–æ–µ–≤',
          '–ü–æ–∫—Ä–∞—Å–∫–∞ —Å—Ç–µ–Ω',
          '–£–∫–ª–∞–¥–∫–∞ –ø–ª–∏—Ç–∫–∏',
          '–£–∫–ª–∞–¥–∫–∞ –ª–∞–º–∏–Ω–∞—Ç–∞',
          '–ú–æ–Ω—Ç–∞–∂ –ø–æ—Ç–æ–ª–∫–æ–≤',
          '–®—Ç—É–∫–∞—Ç—É—Ä–∫–∞',
          '–°—Ç—è–∂–∫–∞ –ø–æ–ª–∞',
        ],
      },
      {
        name: '–ú–µ–±–µ–ª—å',
        services: [
          '–°–±–æ—Ä–∫–∞ –º–µ–±–µ–ª–∏',
          '–†–µ–º–æ–Ω—Ç –º–µ–±–µ–ª–∏',
          '–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –º–µ–±–µ–ª–∏',
          '–ü–µ—Ä–µ—Ç—è–∂–∫–∞ –º–µ–±–µ–ª–∏',
          '–†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è',
        ],
      },
      {
        name: '–ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞',
        services: [
          '–†–µ–º–æ–Ω—Ç —Å—Ç–∏—Ä–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω',
          '–†–µ–º–æ–Ω—Ç —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–æ–≤',
          '–†–µ–º–æ–Ω—Ç –ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã—Ö –º–∞—à–∏–Ω',
          '–†–µ–º–æ–Ω—Ç –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤',
          '–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–≤',
        ],
      },
      {
        name: '–ö–æ–º–ø—å—é—Ç–µ—Ä–Ω–∞—è –ø–æ–º–æ—â—å',
        services: [
          '–†–µ–º–æ–Ω—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤',
          '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–û',
          '–£–¥–∞–ª–µ–Ω–∏–µ –≤–∏—Ä—É—Å–æ–≤',
          '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö',
          '–†–µ–º–æ–Ω—Ç –Ω–æ—É—Ç–±—É–∫–æ–≤',
          '–†–µ–º–æ–Ω—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤',
        ],
      },
      {
        name: '–ö–ª–∏–Ω–∏–Ω–≥',
        services: [
          '–£–±–æ—Ä–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä',
          '–ì–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞',
          '–£–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞',
          '–ú—ã—Ç—å—ë –æ–∫–æ–Ω',
          '–•–∏–º—á–∏—Å—Ç–∫–∞ –º–µ–±–µ–ª–∏',
          '–•–∏–º—á–∏—Å—Ç–∫–∞ –∫–æ–≤—Ä–æ–≤',
        ],
      },
    ],
  },
  {
    name: '–ê–≤—Ç–æ –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç',
    emoji: 'üöó',
    color: '#9C27B0',
    subcategories: [
      {
        name: '–ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å',
        services: [
          '–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∞–≤—Ç–æ',
          '–ó–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞',
          '–†–µ–º–æ–Ω—Ç –¥–≤–∏–≥–∞—Ç–µ–ª—è',
          '–†–µ–º–æ–Ω—Ç —Ö–æ–¥–æ–≤–æ–π',
          '–†–µ–º–æ–Ω—Ç —Ç–æ—Ä–º–æ–∑–æ–≤',
          '–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂',
          '–†–∞–∑–≤–∞–ª-—Å—Ö–æ–∂–¥–µ–Ω–∏–µ',
        ],
      },
      {
        name: '–ê–≤—Ç–æ–º–æ–π–∫–∞ –∏ –¥–µ—Ç–µ–π–ª–∏–Ω–≥',
        services: [
          '–ú–æ–π–∫–∞ –∞–≤—Ç–æ',
          '–ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∫—É–∑–æ–≤–∞',
          '–•–∏–º—á–∏—Å—Ç–∫–∞ —Å–∞–ª–æ–Ω–∞',
          '–ù–∞–Ω–µ—Å–µ–Ω–∏–µ –∫–µ—Ä–∞–º–∏–∫–∏',
          '–û–∫–ª–µ–π–∫–∞ –ø–ª—ë–Ω–∫–æ–π',
          '–¢–æ–Ω–∏—Ä–æ–≤–∫–∞',
        ],
      },
      {
        name: '–≠–≤–∞–∫—É–∞—Ü–∏—è –∏ –ø–æ–º–æ—â—å',
        services: [
          '–≠–≤–∞–∫—É–∞—Ç–æ—Ä',
          '–¢–µ—Ö–ø–æ–º–æ—â—å –Ω–∞ –¥–æ—Ä–æ–≥–µ',
          '–ü–æ–¥–≤–æ–∑ —Ç–æ–ø–ª–∏–≤–∞',
          '–ü—Ä–∏–∫—É—Ä–∏–≤–∞–Ω–∏–µ',
          '–í—Å–∫—Ä—ã—Ç–∏–µ –∞–≤—Ç–æ',
        ],
      },
      {
        name: '–û–±—É—á–µ–Ω–∏–µ –≤–æ–∂–¥–µ–Ω–∏—é',
        services: [
          '–ê–≤—Ç–æ–∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä',
          '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤',
          '–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ –≤–æ–∂–¥–µ–Ω–∏–µ',
          '–í–æ–∂–¥–µ–Ω–∏–µ –º–æ—Ç–æ—Ü–∏–∫–ª–∞',
        ],
      },
    ],
  },
  {
    name: '–ñ–∏–≤–æ—Ç–Ω—ã–µ',
    emoji: 'üêæ',
    color: '#795548',
    subcategories: [
      {
        name: '–ì—Ä—É–º–∏–Ω–≥',
        services: [
          '–°—Ç—Ä–∏–∂–∫–∞ —Å–æ–±–∞–∫',
          '–°—Ç—Ä–∏–∂–∫–∞ –∫–æ—à–µ–∫',
          '–¢—Ä–∏–º–º–∏–Ω–≥',
          '–ú—ã—Ç—å—ë –∏ —Å—É—à–∫–∞',
          '–ß–∏—Å—Ç–∫–∞ —É—à–µ–π',
          '–°—Ç—Ä–∏–∂–∫–∞ –∫–æ–≥—Ç–µ–π',
          '–ß–∏—Å—Ç–∫–∞ –∑—É–±–æ–≤',
        ],
      },
      {
        name: '–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∏—è',
        services: [
          '–û—Å–º–æ—Ç—Ä –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∞',
          '–í–∞–∫—Ü–∏–Ω–∞—Ü–∏—è',
          '–ö–∞—Å—Ç—Ä–∞—Ü–∏—è/—Å—Ç–µ—Ä–∏–ª–∏–∑–∞—Ü–∏—è',
          '–ß–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ',
          '–£–ó–ò',
          '–ê–Ω–∞–ª–∏–∑—ã',
        ],
      },
      {
        name: '–î—Ä–µ—Å—Å–∏—Ä–æ–≤–∫–∞',
        services: [
          '–û–±—â–∏–π –∫—É—Ä—Å –¥—Ä–µ—Å—Å–∏—Ä–æ–≤–∫–∏',
          '–ö–æ—Ä—Ä–µ–∫—Ü–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è',
          '–ó–∞—â–∏—Ç–Ω–æ-–∫–∞—Ä–∞—É–ª—å–Ω–∞—è —Å–ª—É–∂–±–∞',
          '–•–µ–Ω–¥–ª–∏–Ω–≥',
          '–ö–∞–Ω–∏—Å—Ç–µ—Ä–∞–ø–∏—è',
        ],
      },
      {
        name: '–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞ –∏ –≤—ã–≥—É–ª',
        services: [
          '–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞ —Å–æ–±–∞–∫',
          '–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞ –∫–æ—à–µ–∫',
          '–í—ã–≥—É–ª —Å–æ–±–∞–∫',
          '–ù—è–Ω—è –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö',
          '–ó–æ–æ–Ω—è–Ω—è –Ω–∞ –¥–æ–º',
        ],
      },
    ],
  },
  {
    name: '–°–æ–±—ã—Ç–∏—è –∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏',
    emoji: 'üéâ',
    color: '#FFC107',
    subcategories: [
      {
        name: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π',
        services: [
          '–°–≤–∞–¥—å–±–∞',
          '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è',
          '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤',
          '–î–µ—Ç—Å–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫',
          '–Æ–±–∏–ª–µ–π',
          '–í—ã–ø—É—Å–∫–Ω–æ–π',
        ],
      },
      {
        name: '–í–µ–¥—É—â–∏–µ –∏ –∞—Ä—Ç–∏—Å—Ç—ã',
        services: [
          '–í–µ–¥—É—â–∏–π',
          'DJ',
          '–ú—É–∑—ã–∫–∞–Ω—Ç—ã',
          '–§–æ–∫—É—Å–Ω–∏–∫',
          '–ê–Ω–∏–º–∞—Ç–æ—Ä',
          '–ö–ª–æ—É–Ω',
          '–†–æ—Å—Ç–æ–≤—ã–µ –∫—É–∫–ª—ã',
        ],
      },
      {
        name: '–§–æ—Ç–æ –∏ –≤–∏–¥–µ–æ',
        services: [
          '–§–æ—Ç–æ–≥—Ä–∞—Ñ',
          '–í–∏–¥–µ–æ–≥—Ä–∞—Ñ',
          '–ê—ç—Ä–æ—Å—ä—ë–º–∫–∞',
          'Love story',
          '–†–µ–ø–æ—Ä—Ç–∞–∂–Ω–∞—è —Å—ä—ë–º–∫–∞',
          '–ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è —Å—ä—ë–º–∫–∞',
        ],
      },
      {
        name: '–î–µ–∫–æ—Ä –∏ —Ñ–ª–æ—Ä–∏—Å—Ç–∏–∫–∞',
        services: [
          '–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–ª–∞',
          '–§–ª–æ—Ä–∏—Å—Ç–∏–∫–∞',
          '–í–æ–∑–¥—É—à–Ω—ã–µ —à–∞—Ä—ã',
          '–§–æ—Ç–æ–∑–æ–Ω–∞',
          '–°–≤–∞–¥–µ–±–Ω—ã–π –¥–µ–∫–æ—Ä',
        ],
      },
      {
        name: '–ö–µ–π—Ç–µ—Ä–∏–Ω–≥',
        services: [
          '–ü–æ–≤–∞—Ä –Ω–∞ –¥–æ–º',
          '–ö–æ–Ω–¥–∏—Ç–µ—Ä',
          '–¢–æ—Ä—Ç—ã –Ω–∞ –∑–∞–∫–∞–∑',
          '–í—ã–µ–∑–¥–Ω–æ–π –±–∞—Ä',
          '–û—Ñ–∏—Ü–∏–∞–Ω—Ç—ã',
        ],
      },
    ],
  },
  {
    name: '–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ —Ö–æ–±–±–∏',
    emoji: 'üé®',
    color: '#00BCD4',
    subcategories: [
      {
        name: '–†—É–∫–æ–¥–µ–ª–∏–µ',
        services: [
          '–®–∏—Ç—å—ë',
          '–í—è–∑–∞–Ω–∏–µ',
          '–í—ã—à–∏–≤–∫–∞',
          '–ë–∏—Å–µ—Ä–æ–ø–ª–µ—Ç–µ–Ω–∏–µ',
          '–ú–∞–∫—Ä–∞–º–µ',
          '–ö–µ—Ä–∞–º–∏–∫–∞',
          '–ì–æ–Ω—á–∞—Ä–Ω–æ–µ –¥–µ–ª–æ',
          '–ö–æ–∂–µ–≤–µ–Ω–Ω–æ–µ –¥–µ–ª–æ',
        ],
      },
      {
        name: '–ö—É–ª–∏–Ω–∞—Ä–∏—è',
        services: [
          '–ö—É–ª–∏–Ω–∞—Ä–Ω—ã–µ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã',
          '–í—ã–ø–µ—á–∫–∞',
          '–Ø–ø–æ–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è',
          '–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è',
          '–ö–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–æ–µ –º–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ',
          '–°–æ–º–µ–ª—å–µ',
        ],
      },
      {
        name: '–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã',
        services: [
          '–§–ª–æ—Ä–∏—Å—Ç–∏–∫–∞',
          '–°–≤–µ—á–µ–≤–∞—Ä–µ–Ω–∏–µ',
          '–ú—ã–ª–æ–≤–∞—Ä–µ–Ω–∏–µ',
          '–≠–ø–æ–∫—Å–∏–¥–Ω–∞—è —Å–º–æ–ª–∞',
          '–†–æ—Å–ø–∏—Å—å',
          '–î–µ–∫—É–ø–∞–∂',
          '–°–∫—Ä–∞–ø–±—É–∫–∏–Ω–≥',
        ],
      },
    ],
  },
  {
    name: '–ë–∏–∑–Ω–µ—Å-—É—Å–ª—É–≥–∏',
    emoji: 'üíº',
    color: '#607D8B',
    subcategories: [
      {
        name: '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è –∏ —Ñ–∏–Ω–∞–Ω—Å—ã',
        services: [
          '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π —É—á—ë—Ç',
          '–ù–∞–ª–æ–≥–æ–≤–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å',
          '–ê—É–¥–∏—Ç',
          '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',
          '–û—Ü–µ–Ω–∫–∞ –±–∏–∑–Ω–µ—Å–∞',
        ],
      },
      {
        name: '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏',
        services: [
          '–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —é—Ä–∏—Å—Ç–∞',
          '–°–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤',
          '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ò–ü/–û–û–û',
          '–ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ',
          '–°–µ–º–µ–π–Ω–æ–µ –ø—Ä–∞–≤–æ',
          '–¢—Ä—É–¥–æ–≤–æ–µ –ø—Ä–∞–≤–æ',
        ],
      },
      {
        name: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–µ–∫–ª–∞–º–∞',
        services: [
          'SMM',
          '–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞',
          'SEO',
          '–ö–æ–ø–∏—Ä–∞–π—Ç–∏–Ω–≥',
          '–î–∏–∑–∞–π–Ω',
          '–ë—Ä–µ–Ω–¥–∏–Ω–≥',
          'PR',
        ],
      },
      {
        name: '–ü–µ—Ä–µ–≤–æ–¥—ã',
        services: [
          '–ü–∏—Å—å–º–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥',
          '–£—Å—Ç–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥',
          '–ù–æ—Ç–∞—Ä–∏–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥',
          '–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è',
          '–°—É–±—Ç–∏—Ç—Ä—ã',
        ],
      },
      {
        name: '–ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',
        services: [
          '–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',
          'HR-–∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',
          'IT-–∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',
          '–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥',
        ],
      },
    ],
  },
];

async function seedCatalog() {
  // Connect to database
  const dataSource = new DataSource({
    type: 'postgres',
    host: process.env.DB_HOST || 'localhost',
    port: parseInt(process.env.DB_PORT || '5433'),
    username: process.env.DB_USERNAME || 'service_user',
    password: process.env.DB_PASSWORD || 'service_password',
    database: process.env.DB_DATABASE || 'service_db',
    entities: [Category, CategoryTranslation],
    synchronize: false,
  });

  await dataSource.initialize();
  console.log('‚úÖ Database connected');

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º TreeRepository –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è categories_closure
  const categoryRepository = dataSource.getTreeRepository(Category);
  const translationRepository = dataSource.getRepository(CategoryTranslation);

  // Clear existing categories and translations
  console.log('üóëÔ∏è  Clearing existing categories...');
  // Use raw SQL to delete all records (TypeORM doesn't allow delete({}))
  await dataSource.query('DELETE FROM category_translations');
  await dataSource.query('DELETE FROM categories');
  console.log('‚úÖ Old categories cleared');

  let totalCategories = 0;
  let totalSubcategories = 0;
  let totalServices = 0;

  // Process each root category
  for (let rootIndex = 0; rootIndex < CATALOG_DATA.length; rootIndex++) {
    const rootCat = CATALOG_DATA[rootIndex];

    // Create root category (level 0)
    const rootCategory = categoryRepository.create({
      slug: generateSlug(rootCat.name),
      level: 0,
      display_order: rootIndex,
      color: rootCat.color,
      icon_url: rootCat.emoji ? `emoji:${rootCat.emoji}` : null,
      is_active: true,
      is_popular: rootIndex < 5, // First 5 are popular
      masters_count: 0,
      services_count: 0,
    });

    const savedRootCategory = await categoryRepository.save(rootCategory);
    totalCategories++;

    // Create root category translation
    await translationRepository.save(
      translationRepository.create({
        category_id: savedRootCategory.id,
        language: 'ru',
        name: rootCat.name,
        description: `${rootCat.name} - –∫–∞—Ç–µ–≥–æ—Ä–∏—è —É—Å–ª—É–≥`,
        keywords: [rootCat.name.toLowerCase()],
      }),
    );

    // Process subcategories (level 1)
    for (let subIndex = 0; subIndex < rootCat.subcategories.length; subIndex++) {
      const subCat = rootCat.subcategories[subIndex];

      const subCategory = categoryRepository.create({
        slug: `${generateSlug(rootCat.name)}-${generateSlug(subCat.name)}`,
        level: 1,
        display_order: subIndex,
        is_active: true,
        is_popular: false,
        masters_count: 0,
        services_count: subCat.services.length,
      });
      
      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º parent –¥–ª—è TreeRepository
      subCategory.parent = savedRootCategory;

      const savedSubCategory = await categoryRepository.save(subCategory);
      totalSubcategories++;

      // Create subcategory translation
      await translationRepository.save(
        translationRepository.create({
          category_id: savedSubCategory.id,
          language: 'ru',
          name: subCat.name,
          description: `${subCat.name} - –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è –≤ —Ä–∞–∑–¥–µ–ª–µ ${rootCat.name}`,
          keywords: [subCat.name.toLowerCase(), rootCat.name.toLowerCase()],
        }),
      );

      // Process services (level 2)
      for (let serviceIndex = 0; serviceIndex < subCat.services.length; serviceIndex++) {
        const serviceName = subCat.services[serviceIndex];

        const serviceCategory = categoryRepository.create({
          slug: `${generateSlug(rootCat.name)}-${generateSlug(subCat.name)}-${generateSlug(serviceName)}`,
          level: 2,
          display_order: serviceIndex,
          is_active: true,
          is_popular: false,
          masters_count: 0,
          services_count: 0,
        });
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º parent –¥–ª—è TreeRepository
        serviceCategory.parent = savedSubCategory;

        const savedServiceCategory = await categoryRepository.save(serviceCategory);
        totalServices++;

        // Create service category translation
        await translationRepository.save(
          translationRepository.create({
            category_id: savedServiceCategory.id,
            language: 'ru',
            name: serviceName,
            description: `${serviceName} - —É—Å–ª—É–≥–∞ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ${subCat.name}`,
            keywords: [
              serviceName.toLowerCase(),
              subCat.name.toLowerCase(),
              rootCat.name.toLowerCase(),
            ],
          }),
        );
      }

      // Update subcategory services_count
      await categoryRepository.update(savedSubCategory.id, {
        services_count: subCat.services.length,
      });
    }

    // Update root category counts
    const totalServicesInRoot = rootCat.subcategories.reduce(
      (sum, sub) => sum + sub.services.length,
      0,
    );

    await categoryRepository.update(savedRootCategory.id, {
      services_count: totalServicesInRoot,
    });
  }

  console.log(`‚úÖ Catalog seeded successfully!`);
  console.log(`   - Root categories: ${totalCategories}`);
  console.log(`   - Subcategories: ${totalSubcategories}`);
  console.log(`   - Service categories: ${totalServices}`);
  console.log(`   - Total: ${totalCategories + totalSubcategories + totalServices}`);

  await dataSource.destroy();
}

// Run if called directly
if (require.main === module) {
  seedCatalog()
    .then(() => {
      console.log('‚úÖ Seed completed');
      process.exit(0);
    })
    .catch((error) => {
      console.error('‚ùå Seed failed:', error);
      process.exit(1);
    });
}

export { seedCatalog };
